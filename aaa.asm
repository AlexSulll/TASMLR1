.model small
.stack 100h
.data
    msg db 'nonono', 0
    anc db ?
    
.code
main:
    ; ????????????? ???????? ??????
    mov ax, @data
    mov ds, ax

    ; ??????? ???? ?? a
    mov al, -128          ; ???????? ? -128
outer_loop_a:
    cmp al, 127          ; ?????????, ?? ????????? ?? 127
    jg end_outer_loop_a  ; ???? ??????, ??????? ?? ???????? ?????

    ; ??????? ???? ?? b
    mov bl, -128         ; ???????? ? -128
middle_loop_b:
    cmp bl, 127          ; ?????????, ?? ????????? ?? 127
    jg end_middle_loop_b ; ???? ??????, ??????? ?? ???????? ?????

    ; ?????????? ???? ?? c
    mov cl, -128         ; ???????? ? -128
inner_loop_c:
    cmp cl, 127          ; ?????????, ?? ????????? ?? 127
    jg end_inner_loop_c  ; ???? ??????, ??????? ?? ??????????? ?????

    ; ????????? c + 6*a*b
    mov dl, al           ; dl = a
    mov dh, bl           ; dh = b
    imul dl              ; dx = a * b (dx:ax = a*b)
    shl dx, 1            ; ???????? ?? 2 (a*b*2)
    add dx, dx           ; ???????? ?? 2 ??? ??? (a*b*4)
    add dx, cl           ; dx = c + 6*a*b

    cmp dx, 0            ; ?????????, ????? ?? ????????? 0
    je print_nonono      ; ???? ????? 0, ???????? 'nonono'

    ; ????????? anc = (28*b^3 + c - 19) / (c + 6*a*b)
    mov bl, bl           ; b ? bl
    imul bl              ; b^2 ? ax
    imul bl              ; b^3 ? ax
    mov ax, 28           ; ???????? ?? 28
    add ax, cl           ; ax = 28*b^3 + c
    sub ax, 19           ; ax = 28*b^3 + c - 19

    mov bx, dx           ; bx = c + 6*a*b (?? ??????????? ??????????)
    test bx, bx          ; ?????????, ?? ???? ?? bx
    jz print_nonono      ; ???? ????, ???????? 'nonono'

    xor dx, dx           ; ???????? dx ??? ???????
    div bx                ; ????? ax ?? bx (ax / bx)
    
    mov anc, al          ; ????????? ????????? ? anc

    jmp end_inner_loop_c ; ????????? ? ?????????? c

print_nonono:
    mov dx, offset msg   ; ????????? ?? ????????? 'nonono'
    mov ah, 09h          ; ??????? ?????? ?????? DOS
    int 21h              ; ????? DOS

end_inner_loop_c:
    inc cl               ; ??????????? c
    jmp inner_loop_c     ; ????????? ? ?????????? c

end_middle_loop_b:
    inc bl               ; ??????????? b
    jmp middle_loop_b    ; ????????? ? ?????????? b

end_outer_loop_a:
    inc al               ; ??????????? a
    jmp outer_loop_a     ; ????????? ? ?????????? a

end_program:
    mov ax, 4C00h        ; ?????????? ?????????
    int 21h              ; ????? DOS

end main